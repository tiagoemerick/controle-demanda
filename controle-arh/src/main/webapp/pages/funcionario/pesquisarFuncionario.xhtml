<ui:composition 
	template="/templates/main.xhtml" 
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="content">
		<div class="row-fluid">
			<div class="span12">
				<div class="widget-box">
					<div id="widget_title" class="widget-title" onclick="$('#table_form').collapse('toggle')">
						<span class="icon"> <i class="icon icon-pencil"></i></span>
						<h5>Lista de funcionários</h5>
					</div>

					<h:form id="table_form" styleClass="form-horizontal">
						<div class="widget-content">
							
							<p:dataTable id="table" var="func" value="#{funcionarioBean.dataModel}" lazy="true"
								tableStyleClass="table table-bordered table-striped" paginator="true" paginatorPosition="bottom"
								rows="3" selection="#{funcionarioBean.funcionarioSelecionado}" selectionMode="single" emptyMessage="Nenhum usuário cadastrado">
								<p:ajax event="rowSelect" listener="#{funcionarioBean.selecionarFuncionario}" />
								<p:column headerText="Chave">
									<h:outputText value="#{func.chave}" />
								</p:column>
							</p:dataTable>

							<h:panelGroup id="buttons" styleClass="form-actions" layout="block">
								<p:commandButton value="Pesquisar" action="#{funcionarioBean.teste}" update="table" styleClass="btn btn-inverse" />
							</h:panelGroup>

						</div>
					</h:form>

				</div>
			</div>
		</div>
	</ui:define>
</ui:composition>