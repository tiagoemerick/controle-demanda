<ui:composition template="/templates/main.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">

	<ui:define name="content">
		<div class="row-fluid">
			<div class="span12">
				<div class="widget-box">
					<div id="widget_title" class="widget-title" onclick="$('#formz').collapse('toggle')">
						<span class="icon"> <i class="icon icon-pencil"></i></span>
						<h5>Bem vindo, #{sessionScope.funcionarioLogado.nome}</h5>
					</div>

					<h:form id="formz" styleClass="form-horizontal">
						<h:panelGroup id="campoTrocaSenha" styleClass="control-group" layout="block" rendered="#{sessionScope.funcionarioLogado.trocarSenha}">

							<h:panelGroup styleClass="control-group" layout="block">
								<div class="controls">
									<p:outputLabel value="Este é seu primeiro acesso #{sessionScope.funcionarioLogado.nome}. Por favor, troque sua senha." />
								</div>
							</h:panelGroup>

							<h:panelGroup styleClass="control-group" layout="block">
								<label class="control-label">Nova senha :</label>
								<div class="controls" style="width: 250px">
									<p:password value="#{funcionarioBean.funcionario.hash}" required="true" requiredMessage="Campo Senha obrigatório" />
								</div>
							</h:panelGroup>
							<h:panelGroup styleClass="control-group" layout="block">
								<div class="controls">
									<p:commandButton type="submit" value="Alterar" action="#{funcionarioBean.alterarSenha}" styleClass="btn btn-inverse" update=":formz" />
								</div>
							</h:panelGroup>
						</h:panelGroup>
					</h:form>

				</div>
			</div>
		</div>
	</ui:define>
</ui:composition>